import{J as O,U as Y,$ as S,V as U,w as R,L as T,h as w,D as j,ai as C,M as F,b as k,a as K,E as $,A as q,H,B as V,y as X,C as D,av as Z,ad as z,d as x,X as G,aM as m,aN as y,aO as J,aP as Q,i as P,aQ as W,aR as ee,a5 as se,aS as te,t as re,j as ie,aT as ae,aU as ne,aV as fe,aW as ue,aX as ce,aY as M,aZ as p}from"./BVuGh9ry.js";import{l as oe}from"./DIeogL5L.js";class le{anchor;#s=new Map;#t=new Map;#e=new Map;#r=new Set;#i=!0;constructor(e,r=!0){this.anchor=e,this.#i=r}#a=()=>{var e=O;if(this.#s.has(e)){var r=this.#s.get(e),t=this.#t.get(r);if(t)Y(t),this.#r.delete(r);else{var i=this.#e.get(r);i&&(this.#t.set(r,i.effect),this.#e.delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[a,f]of this.#s){if(this.#s.delete(a),a===e)break;const n=this.#e.get(f);n&&(S(n.effect),this.#e.delete(f))}for(const[a,f]of this.#t){if(a===r||this.#r.has(a))continue;const n=()=>{if(Array.from(this.#s.values()).includes(a)){var o=document.createDocumentFragment();C(f,o),o.append(R()),this.#e.set(a,{effect:f,fragment:o})}else S(f);this.#r.delete(a),this.#t.delete(a)};this.#i||!t?(this.#r.add(a),U(f,n,!1)):n()}}};#n=e=>{this.#s.delete(e);const r=Array.from(this.#s.values());for(const[t,i]of this.#e)r.includes(t)||(S(i.effect),this.#e.delete(t))};ensure(e,r){var t=O,i=F();if(r&&!this.#t.has(e)&&!this.#e.has(e))if(i){var a=document.createDocumentFragment(),f=R();a.append(f),this.#e.set(e,{effect:T(()=>r(f)),fragment:a})}else this.#t.set(e,T(()=>r(this.anchor)));if(this.#s.set(t,e),i){for(const[n,u]of this.#t)n===e?t.skipped_effects.delete(u):t.skipped_effects.add(u);for(const[n,u]of this.#e)n===e?t.skipped_effects.delete(u.effect):t.skipped_effects.add(u.effect);t.oncommit(this.#a),t.ondiscard(this.#n)}else w&&(this.anchor=j),this.#a()}}function be(s,e,r=!1){w&&K();var t=new le(s),i=r?$:0;function a(f,n){if(w){const o=q(s)===H;if(f===o){var u=V();X(u),t.anchor=u,D(!1),t.ensure(f,n),D(!0);return}}t.ensure(f,n)}k(()=>{var f=!1;e((n,u=!0)=>{f=!0,a(u,n)}),f||a(!1,null)},i)}function I(s,e){return s===e||s?.[m]===e}function ge(s={},e,r,t){return Z(()=>{var i,a;return z(()=>{i=a,a=[],x(()=>{s!==r(...a)&&(e(s,...a),i&&I(r(...i),s)&&e(null,...i))})}),()=>{G(()=>{a&&I(r(...a),s)&&e(null,...a)})}}),s}let b=!1;function de(s){var e=b;try{return b=!1,[s(),b]}finally{b=e}}const he={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Se(s,e,r){return new Proxy({props:s,exclude:e},he)}const _e={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(p(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let i=s.props[t];p(i)&&(i=i());const a=y(i,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(p(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=y(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(s,e){if(e===m||e===M)return!1;for(let r of s.props)if(p(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(p(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Pe(...s){return new Proxy({props:s},_e)}function we(s,e,r,t){var i=!oe||(r&ne)!==0,a=(r&ae)!==0,f=(r&ue)!==0,n=t,u=!0,o=()=>(u&&(u=!1,n=f?x(t):t),n),d;if(a){var L=m in s||M in s;d=y(s,e)?.set??(L&&e in s?c=>s[e]=c:void 0)}var h,A=!1;a?[h,A]=de(()=>s[e]):h=s[e],h===void 0&&t!==void 0&&(h=o(),d&&(i&&J(),d(h)));var l;if(i?l=()=>{var c=s[e];return c===void 0?o():(u=!0,c)}:l=()=>{var c=s[e];return c!==void 0&&(n=void 0),c===void 0?n:c},i&&(r&Q)===0)return l;if(d){var B=s.$$legacy;return(function(c,v){return arguments.length>0?((!i||!v||B||A)&&d(v?l():c),c):l()})}var g=!1,_=((r&fe)!==0?re:ie)(()=>(g=!1,l()));a&&P(_);var N=se;return(function(c,v){if(arguments.length>0){const E=v?P(_):i&&a?W(c):c;return ee(_,E),g=!0,n!==void 0&&(n=E),c}return ce&&g||(N.f&te)!==0?_.v:P(_)})}export{le as B,ge as b,be as i,we as p,Se as r,Pe as s};
